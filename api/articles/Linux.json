{"title":"[Linux笔记]终端的超级管理员操作命令等","uid":"79aba1709dbb470fdcd9b5b7bdd25c83","slug":"Linux","date":"2023-03-21T06:53:46.000Z","updated":"2023-03-21T08:32:08.356Z","comments":true,"path":"api/articles/Linux.json","keywords":null,"cover":"./images/cover3.png","content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"86\" src=\"//music.163.com/outchain/player?type=2&id=1449145780&auto=0&height=66\"></iframe></blockquote>\n<h3 id=\"Linux权限的概念\"><a href=\"#Linux权限的概念\" class=\"headerlink\" title=\"Linux权限的概念\"></a>Linux权限的概念</h3><p>Linux下默认有两种用户：超级用户（root）、普通用户。<br>root：超级管理员，具有非常高的权限，可以再linux系统下做任何事情，不受限制<br>普通用户：具有一般权限，需要受权限约束（由root用户创建的）<br>超级用户：可以在linux系统下做任何事情，不受限制<br>普通用户：在linux下做有限的事情。<br>超级用户的命令提示符是“#”，普通用户的命令提示符是“$”。<br>用户登录时尽量少用 root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。<br>退出登录使用ctrl+d或者命令行输入exit。<br>Shell中使用<br><Strong>su -</Strong><br>进行超级管理员登陆</p>\n<h4 id=\"shell终端的用户权限修改\"><a href=\"#shell终端的用户权限修改\" class=\"headerlink\" title=\"shell终端的用户权限修改\"></a>shell终端的用户权限修改</h4><p>在终端中庸超级管理员登陆<br>并使用<Strong>visudo</Strong><br>进入到<Strong>etc&#x2F;suders.tmp</Strong><br>使用Ctrl+O进行写入,回车确认路径<br>在#User privilege specification 下里添加用户名<br><img src=\"/images/Linux_admin_1.png\"><br>按照root权限规则写好之后<br>Ctrl+X进行保存,最后确认即可<br>操作完成后,添加的用户便拥有了超级用户的权限</p>\n<h4 id=\"sudo指令\"><a href=\"#sudo指令\" class=\"headerlink\" title=\"sudo指令\"></a>sudo指令</h4><p>普通用户权限，并没有最高 root 权限，如果普通用户需要使用 root 权限的时候， 通常都会在命令前面加上 sudo 。sudo是临时权限提升，以root身份来执行后面的命令以root用户的身份来创建文件root.txt<br>su和sudo的区别：su是身份完全转变，sudo是普通用户临时转变成root用户来执行命令，该命令执行完，仍为普通用户。<br>第一次使用sudo时，发现无法使用，怎么解决？<br>根本原因是用户没有加入到sudo的配置文件里，需要添加信任关系，以后再学习。</p>\n<h3 id=\"Linux用户管理\"><a href=\"#Linux用户管理\" class=\"headerlink\" title=\"Linux用户管理\"></a>Linux用户管理</h3><p>实现用户账号的管理，要完成的工作主要有如下几个方面：</p>\n<p>（1）用户账号的添加、删除与修改；<br>（2）用户密码的管理；<br>（3）用户组的管理。</p>\n<h4 id=\"whoami指令\"><a href=\"#whoami指令\" class=\"headerlink\" title=\"whoami指令\"></a>whoami指令</h4><p>查看当前系统当前账号的用户名，等价于who am i指令<br><img src=\"/images/Linux_admin_2.png\"></p>\n<h4 id=\"who指令\"><a href=\"#who指令\" class=\"headerlink\" title=\"who指令\"></a>who指令</h4><p>查看当前所有登录系统的用户信息<br><img src=\"/images/Linux_admin_3.png\"></p>\n<h4 id=\"useradd指令\"><a href=\"#useradd指令\" class=\"headerlink\" title=\"useradd指令\"></a>useradd指令</h4><p>useradd指令<br>功能：添加用户<br>语法：useradd [选项] 用户名<br>常用选项:</p>\n<p>（1）-c comment ：指定一段注释性描述。</p>\n<p>（2）-d 目录 ：指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录。若不指定目录，默认会自动在home目录下创建一个和用户名相同的目录。</p>\n<p>（3）-g 用户组 ：添加用户时指定用户所属的用户组。</p>\n<p>（4）-G 用户组，用户组 ：指定用户所属的附加组。</p>\n<p>（5）-s Shell文件 ：指定用户的登录Shell。</p>\n<p>（6）-u 用户密码：指定用户的密码，如果同时有-o选项，则可以重复使用其他用户的标识号。</p>\n<h4 id=\"userdel指令\"><a href=\"#userdel指令\" class=\"headerlink\" title=\"userdel指令\"></a>userdel指令</h4><p>如果一个用户的账号不再使用，可以从系统中删除。删除用户账号就是要将&#x2F;etc&#x2F;passwd等系统文件中的该用户记录删除，必要时还删除用户的主目录。</p>\n<p>功能：删除帐号<br>语法：userdel [选项] 用户名</p>\n<p>-r，把用户的主目录一起删除,默认情况下只删除用户在系统文件中（主要是&#x2F;etc&#x2F;passwd, &#x2F;etc&#x2F;shadow, &#x2F;etc&#x2F;group等）的记录，不删除用户主目录，若想一同删除用户主目录，要使用-r选项</p>\n<h4 id=\"passwd指令\"><a href=\"#passwd指令\" class=\"headerlink\" title=\"passwd指令\"></a>passwd指令</h4><p>用户管理的一项重要内容是用户密码的管理。用户账号刚创建时没有密码，但是被系统锁定，无法使用，必须为其指定密码后才可以使用（此时由root用户指定密码），即使是指定空密码。</p>\n<p>超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令。</p>\n<p>功能：指定用户密码或者修改用户密码<br>语法：passwd [选项] 用户名<br>常用选项：</p>\n<p>（1）-l ：锁定密码，即禁用账号。<br>（2）-u ：密码解锁。<br>（3）-d ：使账号无密码。<br>（4）-f ：强迫用户下次登录时修改密码。</p>\n<p>如果不写用户名，则默认修改当前用户的密码。</p>\n<p>普通用户修改自己的密码时，passwd命令会先询问原密码，验证后再要求用户输入两遍新密码，如果两次输入的密码一致，则将这个密码指定给用户；而超级用户为用户指定密码时，就不需要知道原密码</p>\n<h4 id=\"usermod指令\"><a href=\"#usermod指令\" class=\"headerlink\" title=\"usermod指令\"></a>usermod指令</h4><p>功能：根据实际情况更改已有用户的有关属性，如用户号、主目录、用户组、登录Shell等。<br>语法：usermod [选项] 用户名<br>常用选项：<br>-c, -d, -m, -g, -G, -s, -u以及-o等，这些选项的意义与useradd命令中的选项一样，可以为用户指定新的资源值。<br>（1）-c comment ：指定一段注释性描述。<br>（2）-d 目录 ：指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录。若不指定目录，默认会自动在home目录下创建一个和用户名相同的目录。<br>（3）-g 用户组 ：改变用户所在的用户组。<br>（4）-G 用户组，用户组 ：指定用户所属的附加组<br>（5）-s Shell文件 ：指定用户的登录Shell。<br>（6）-u 用户密码：指定用户的密码，如果同时有-o选项，则可以重复使用其他用户的标识号。<br>（7）-e 设置用户的失效时间,通常为XXXX-XX-XX格式.到指定时间后该用户自动失效<br>另外，有些系统可以使用选项：-l 新用户名<br>这个选项指定一个新的账号，即将原来的用户名改为新的用户名。</p>\n<h4 id=\"id指令-查询用户信息\"><a href=\"#id指令-查询用户信息\" class=\"headerlink\" title=\"id指令 - 查询用户信息\"></a>id指令 - 查询用户信息</h4><p>功能：查询用户信息<br>语法：id 用户名</p>\n<h3 id=\"Linux用户组管理\"><a href=\"#Linux用户组管理\" class=\"headerlink\" title=\"Linux用户组管理\"></a>Linux用户组管理</h3><p>用户组类似于角色，系统可以对有共性的多个用户进行统一的管理。每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。不同Linux 系统对用户组的规定有所不同，如Linux下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。</p>\n<p>用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是对&#x2F;etc&#x2F;group文件的更新。</p>\n<h4 id=\"groupadd-指令\"><a href=\"#groupadd-指令\" class=\"headerlink\" title=\"groupadd 指令\"></a>groupadd 指令</h4><p>功能：增加一个新的用户组<br>语法：groupadd [选项] 用户组</p>\n<p>常用选项：<br>（1）-g GID ：指定新用户组的组标识号（GID）。<br>（2）-o ：一般与-g选项同时使用，表示新用户组的GID可以与系统已有用户组的GID相同。<br>可以在创建新用户时就指定用户组：<br><Strong>useradd -g 用户组 用户名</Strong><br>但是这种写法的前提是，先创建用户组，用户组已经存在。</p>\n<h4 id=\"groupdel指令\"><a href=\"#groupdel指令\" class=\"headerlink\" title=\"groupdel指令\"></a>groupdel指令</h4><p>功能：删除一个已有的用户组<br>语法：groupdel 用户组</p>\n<h4 id=\"groupmod-修改用户组自身的属性\"><a href=\"#groupmod-修改用户组自身的属性\" class=\"headerlink\" title=\"groupmod - 修改用户组自身的属性\"></a>groupmod - 修改用户组自身的属性</h4><p>功能：修改用户组自身的属性<br>语法：groupmod [选项] 用户组<br>常用选项：</p>\n<p>（1）-g GID ：为用户组指定新的组标识号。<br>（2）-o 与-g选项同时使用，用户组的新GID可以与系统已有用户组的GID相同。<br>（3）-n 新用户组 ：将用户组的名字改为新名字</p>\n<h4 id=\"groups指令-显示用户所属组\"><a href=\"#groups指令-显示用户所属组\" class=\"headerlink\" title=\"groups指令 - 显示用户所属组\"></a>groups指令 - 显示用户所属组</h4><p><Strong>groups</Strong><br>使用即可</p>\n","feature":true,"text":" Linux权限的概念Linux下默认有两种用户：超级用户（root）、普通用户。root：超级管理员，具有非常高的权限，可以再linux系统下做任何事情，不受限制普通用户：具有一般权限，需要受权限约束（由root用户创建的）超级用户：可以在linux系统下做任何事情，不受限制普...","link":"","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"学习笔记","slug":"学习笔记","count":2,"path":"api/tags/学习笔记.json"},{"name":"学习","slug":"学习","count":2,"path":"api/tags/学习.json"},{"name":"笔记","slug":"笔记","count":2,"path":"api/tags/笔记.json"},{"name":"Linux","slug":"Linux","count":1,"path":"api/tags/Linux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Linux%E6%9D%83%E9%99%90%E7%9A%84%E6%A6%82%E5%BF%B5\"><span class=\"toc-text\">Linux权限的概念</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#shell%E7%BB%88%E7%AB%AF%E7%9A%84%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E4%BF%AE%E6%94%B9\"><span class=\"toc-text\">shell终端的用户权限修改</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sudo%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">sudo指令</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">Linux用户管理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#whoami%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">whoami指令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#who%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">who指令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#useradd%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">useradd指令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#userdel%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">userdel指令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#passwd%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">passwd指令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#usermod%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">usermod指令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#id%E6%8C%87%E4%BB%A4-%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">id指令 - 查询用户信息</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Linux%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">Linux用户组管理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#groupadd-%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">groupadd 指令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#groupdel%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">groupdel指令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#groupmod-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%BB%84%E8%87%AA%E8%BA%AB%E7%9A%84%E5%B1%9E%E6%80%A7\"><span class=\"toc-text\">groupmod - 修改用户组自身的属性</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#groups%E6%8C%87%E4%BB%A4-%E6%98%BE%E7%A4%BA%E7%94%A8%E6%88%B7%E6%89%80%E5%B1%9E%E7%BB%84\"><span class=\"toc-text\">groups指令 - 显示用户所属组</span></a></li></ol></li></ol>","author":{"name":"雨中冒险","slug":"blog-author","avatar":"/images/QQ.jpg","link":"/","description":"I'm in love with a shootin' star </br> But she moves so fast when she falls then I'll be waitin'","socials":{"github":"https://github.com/Kictoriz","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"[Jquery笔记]过滤选择器","uid":"4ac8b1aa8edb55b3f8a5ed8b31c472a5","slug":"Jquery_guolvxuanzeqi","date":"2023-03-14T04:43:19.000Z","updated":"2023-03-21T08:33:23.026Z","comments":true,"path":"api/articles/Jquery_guolvxuanzeqi.json","keywords":null,"cover":"/images/cover-2.png","text":" 基本过滤选择器表格示例 选择器 示例 示例结果 说明 :first $(“tr:first”) 选择所有tr元素中第一个元素 匹配找到的第一个元素 :last $(“tr:last”) 选择所有tr元素中最后一个tr元素 匹配找到的最后一个元素 not(selector) $(...","link":"","photos":[],"count_time":{"symbolsCount":"19k","symbolsTime":"17 mins."},"categories":[],"tags":[{"name":"jquery","slug":"jquery","count":1,"path":"api/tags/jquery.json"},{"name":"学习笔记","slug":"学习笔记","count":2,"path":"api/tags/学习笔记.json"},{"name":"过滤选择器","slug":"过滤选择器","count":1,"path":"api/tags/过滤选择器.json"},{"name":"选择器","slug":"选择器","count":1,"path":"api/tags/选择器.json"},{"name":"学习","slug":"学习","count":2,"path":"api/tags/学习.json"},{"name":"笔记","slug":"笔记","count":2,"path":"api/tags/笔记.json"}],"author":{"name":"雨中冒险","slug":"blog-author","avatar":"/images/QQ.jpg","link":"/","description":"I'm in love with a shootin' star </br> But she moves so fast when she falls then I'll be waitin'","socials":{"github":"https://github.com/Kictoriz","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}