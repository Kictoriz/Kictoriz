{"title":"[Linux笔记]操作系统","uid":"2d235e8538176bc190407e7938429ed4","slug":"LinuxCaozuoxitong","date":"2023-04-25T07:00:00.000Z","updated":"2023-05-03T10:27:03.828Z","comments":true,"path":"api/articles/LinuxCaozuoxitong.json","keywords":null,"cover":"./images/cover10.jpg","content":"<h1 id=\"服务管理与任务定制\"><a href=\"#服务管理与任务定制\" class=\"headerlink\" title=\"服务管理与任务定制\"></a>服务管理与任务定制</h1><h2 id=\"1、Linux操作系统的启动\"><a href=\"#1、Linux操作系统的启动\" class=\"headerlink\" title=\"1、Linux操作系统的启动\"></a>1、Linux操作系统的启动</h2><h3 id=\"1-1、修改GRUP的配置\"><a href=\"#1-1、修改GRUP的配置\" class=\"headerlink\" title=\"1-1、修改GRUP的配置\"></a>1-1、修改GRUP的配置</h3><ul>\n<li>vim  &#x2F;etc&#x2F;default&#x2F;grub</li>\n<li>update-rtub</li>\n</ul>\n<h3 id=\"1-2、Linux操作系统的开机过程\"><a href=\"#1-2、Linux操作系统的开机过程\" class=\"headerlink\" title=\"1-2、Linux操作系统的开机过程\"></a>1-2、Linux操作系统的开机过程</h3><ul>\n<li>Linux 操作系统的开机过程是，首先 BIOS初始化，然后进入系统引导程序(Boot Loader),接着加载系统内核，最后内核初始化并启动初始化进程。</li>\n<li>(1)BIOS初始化主要是对硬件进行检测，包括主机的硬件设备，如磁盘、内存条、显卡等。</li>\n<li>(2) Boot Loader的引导程序GRUB负责从磁盘中读入真正的Linux操作系统内核程序并执行随后的启动。</li>\n<li>(3)加载系统内核是引导程序将内核解压缩到主存储器中，并且利用内核的功能，开始测试与驱动各个周边设备，如网卡、CPU 等，此时 Linux内核将会重新检测一次硬件设备。</li>\n<li>(4)内核初始化并启动初始化进程。初始化进程作为Linux操作系统启动后的第一个正式服务，需要完成 Linux中相关的初始化工作，从而为用户提供合适的工作环境。</li>\n<li>GRUB是一个功能强大的 Boot Loader，如果计算机已经安装了不同的操作系统，进入GRUB程序后，则可以使用上下方向键选择要进入的操作系统，如图6-1-1所示。</li>\n<li>读者可以将初始化进程简单理解为从按下开机键到看见系统桌面的过程。</li>\n</ul>\n<h3 id=\"1-3、初始化进程服务\"><a href=\"#1-3、初始化进程服务\" class=\"headerlink\" title=\"1-3、初始化进程服务\"></a>1-3、初始化进程服务</h3><ul>\n<li>RHEL 8操作系统采用systemd初始化进程服务，在启动时会进行大量的初始化工作，如挂载文件系统、启动各类进程服务等，这些都可以看作是一个一个的单元（unit)。systemd用目标(target）代替了旧版 Linux操作系统system V init 中运行级别的概念。systemd与system vinit的区别如表所示。</li>\n</ul>\n<table>\n    <tr><th>system V init运行级别</th><th>systemd的target名称</th><th>systemd的target作用</th></tr>\n    <tr><td>0</td><td>poweroff.target</td><td>关机</td></tr>\n    <tr><td>1</td><td>rescue.target</td><td>单用户（救援）模式</td></tr>\n    <tr><td>2</td><td rowspan=\"3\">multi-user.target</td><td rowspan=\"3\">多用户的文本界面</td></tr>\n    <tr><td>3</td></tr>\n    <tr><td>4</td></tr>\n    <tr><td>5</td><td>graphica1.target</td><td>多用户的图形界面</td></tr>\n    <tr><td>6</td><td>reboot.target</td><td>重启</td></tr>\n</table>\n\n<h2 id=\"2、Linux服务管理命令\"><a href=\"#2、Linux服务管理命令\" class=\"headerlink\" title=\"2、Linux服务管理命令\"></a>2、Linux服务管理命令</h2><ul>\n<li>RHEL 8操作系统服务管理使用systemctl命令，包括启动服务、重启服务和关闭服务等，以及设置服务开机自动启动和开机不自动启动等。systemctl命令的格式如下。</li>\n</ul>\n<pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">systemctl[选项]服务名.service\n\n&#x2F;&#x2F; 其中，“.service”可以省略。</code></pre>\n\n<ul>\n<li>systemctl命令中常用选项的含义如表所示。</li>\n</ul>\n<table>\n    <tr><th>选项</th><th>含义</th></tr>\n    <tr><td>start</td><td>启动服务</td></tr>\n    <tr><td>restart</td><td>重启服务</td></tr>\n    <tr><td>stop</td><td>停止服务</td></tr>\n    <tr><td>reload</td><td>重新加载配置文件</td></tr>\n    <tr><td>status</td><td>查看服务状态</td></tr>\n    <tr><td>enable</td><td>设置开机自动启动</td></tr>\n    <tr><td>disable</td><td>设置开机不自动启动</td></tr>\n    <tr><td>is-enabled</td><td>查看服务是否为开机自动启动</td></tr>\n    <tr><td>list-unit-files</td><td>查看服务启动列表</td></tr>\n</table>\n\n<ul>\n<li>重新加载配置文件只能在服务已经启动的状态下使用。</li>\n<li>RHEL 5&#x2F;6使用service和chkconfig等命令来管理服务，而 RHEL 8则采用的是systemctl命令,且命令格式也是不同的,请读者注意区分,不要混绢。</li>\n</ul>\n<pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">#启动Squid服务\nsystemctl start squid.service\n#停止Squid服务\nsystemctl stop squid.service\n#将Squid服务设置为开机自动启动\nsystemctl enable squid.service</code></pre>\n\n<h2 id=\"3、一次性计划任务管理命令\"><a href=\"#3、一次性计划任务管理命令\" class=\"headerlink\" title=\"3、一次性计划任务管理命令\"></a>3、一次性计划任务管理命令</h2><h3 id=\"3-1、设置-次性计划任务-at命令\"><a href=\"#3-1、设置-次性计划任务-at命令\" class=\"headerlink\" title=\"3-1、设置- -次性计划任务 -at命令\"></a>3-1、设置- -次性计划任务 -at命令</h3><ul>\n<li>一次性计划任务是指在指定的日期或时间点自动执行预先设置的一些操作，一 般用于临时的工作需求。设置一次性计划任务使用at命令，其格式如下。</li>\n</ul>\n<pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">at [选项] [n] (HH:MM] [YYY-MM-DD] \n# 其中，“n”表示任务编号，“HH:MM&quot;表示时间，“YYY-MM-DD”表示日期。\n选项：\n\t-l：显示待执行的任务列表\n\t-d：删除指定任务编号的任务</code></pre>\n\n<h2 id=\"3、一次性计划任务管理命令-1\"><a href=\"#3、一次性计划任务管理命令-1\" class=\"headerlink\" title=\"3、一次性计划任务管理命令\"></a>3、一次性计划任务管理命令</h2><h3 id=\"3-1、设置-次性计划任务-at命令-1\"><a href=\"#3-1、设置-次性计划任务-at命令-1\" class=\"headerlink\" title=\"3-1、设置- -次性计划任务 -at命令\"></a>3-1、设置- -次性计划任务 -at命令</h3><ul>\n<li>一次性计划任务是指在指定的日期或时间点自动执行预先设置的一些操作，一 般用于临时的工作需求。设置一次性计划任务使用at命令，其格式如下。</li>\n</ul>\n<pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">at [选项] [n] (HH:MM] [YYY-MM-DD] \n# 其中，“n”表示任务编号，“HH:MM&quot;表示时间，“YYY-MM-DD”表示日期。\n选项：\n\t-l：显示待执行的任务列表\n\t-d：删除指定任务编号的任务</code></pre>\n\n<ul>\n<li>使用at命令设置一次性计划任务时，默认采用的是交互方式。在交互环境下对一次性计划任务设置完成后，按“Ctrl+D”组合键提交任务即可。</li>\n<li>at命令中的年份也可以用两位数表示。使用at命令设置的任务只在指定时间点执行一次，若只指定时间则表示当天的该时间，若只指定日期则表示该日期的当前时间。</li>\n</ul>\n<h3 id=\"3-2、查询设置的一-次性计划任务-atq命令\"><a href=\"#3-2、查询设置的一-次性计划任务-atq命令\" class=\"headerlink\" title=\"3-2、查询设置的一-次性计划任务   atq命令\"></a>3-2、查询设置的一-次性计划任务   atq命令</h3><ul>\n<li>atq命令与at命令的“1” 选项含义相同。</li>\n</ul>\n<pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">atq</code></pre>\n\n<h3 id=\"3-3、删除指定任务编号的一-次性计划任务\"><a href=\"#3-3、删除指定任务编号的一-次性计划任务\" class=\"headerlink\" title=\"3-3、删除指定任务编号的一-次性计划任务\"></a>3-3、删除指定任务编号的一-次性计划任务</h3><ul>\n<li>atrm命令与at命令的“-d” 选项含义相同。</li>\n</ul>\n<pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">atrm 任务编号</code></pre>\n\n<h2 id=\"4、周期性计划任务管理命令\"><a href=\"#4、周期性计划任务管理命令\" class=\"headerlink\" title=\"4、周期性计划任务管理命令\"></a>4、周期性计划任务管理命令</h2><h3 id=\"4-1、设置周期性计划任务-crontab-命令\"><a href=\"#4-1、设置周期性计划任务-crontab-命令\" class=\"headerlink\" title=\"4-1、设置周期性计划任务  crontab 命令\"></a>4-1、设置周期性计划任务  crontab 命令</h3><table><tr><th>序号</th><th>字段</th><th>说明</th></tr>\n<tr><td>1</td><td>分钟</td><td>取值为0~59任意整数</td></tr>\n<tr><td>2</td><td>小时</td><td>取值为0~23任意整数</td></tr>\n<tr><td>3</td><td>日期</td><td>取值为0~31任意整数</td></tr>\n<tr><td>4</td><td>月份</td><td>取值为0~12任意整数</td></tr>\n<tr><td>5</td><td>星期</td><td>取值为0~7任意整数</td></tr>\n<tr><td>6</td><td>命令</td><td>要执行的命令或脚本</td></tr>\n</table>\n\n<h3 id=\"周期性计划任务配置中的符号\"><a href=\"#周期性计划任务配置中的符号\" class=\"headerlink\" title=\"周期性计划任务配置中的符号\"></a>周期性计划任务配置中的符号</h3><p>周期性计划任务配置中的字段除了使用具体数字外，还可以使用“*”“-”和“&#x2F;”符号，这些符号与数字构成表达式可以表示复杂的时间关系，各符号的含义如表所示。</p>\n<table><tr><th>符号</th><th>含义</th>=</tr>\n<tr><td>*</td><td>表示该范围的任意时间</td></tr>\n<tr><td>,</td><td>表示间隔多个不连续的时间点</td></tr>\n<tr><td>-</td><td>表示一段连续的时间范围</td></tr>\n<tr><td>/</td><td>执行任务的间隔时间</td></tr>\n\n</table>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>周期性计划任务中的“分钟”字段必须有数值，不能为它或是“*”..“日期”和“星期”字段不能同时使用,否则会发生冲突。</p></blockquote>\n","feature":true,"text":"服务管理与任务定制1、Linux操作系统的启动1-1、修改GRUP的配置 vim &#x2F;etc&#x2F;default&#x2F;grub update-rtub 1-2、Linux操作系统的开机过程 Linux 操作系统的开机过程是，首先 BIOS初始化，然后进入系统引...","link":"","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"学习笔记","slug":"学习笔记","count":9,"path":"api/tags/学习笔记.json"},{"name":"学习","slug":"学习","count":9,"path":"api/tags/学习.json"},{"name":"笔记","slug":"笔记","count":9,"path":"api/tags/笔记.json"},{"name":"Linux","slug":"Linux","count":6,"path":"api/tags/Linux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E4%B8%8E%E4%BB%BB%E5%8A%A1%E5%AE%9A%E5%88%B6\"><span class=\"toc-text\">服务管理与任务定制</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%E3%80%81Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%90%AF%E5%8A%A8\"><span class=\"toc-text\">1、Linux操作系统的启动</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-1%E3%80%81%E4%BF%AE%E6%94%B9GRUP%E7%9A%84%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">1-1、修改GRUP的配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-2%E3%80%81Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%BC%80%E6%9C%BA%E8%BF%87%E7%A8%8B\"><span class=\"toc-text\">1-2、Linux操作系统的开机过程</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-3%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E8%BF%9B%E7%A8%8B%E6%9C%8D%E5%8A%A1\"><span class=\"toc-text\">1-3、初始化进程服务</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%E3%80%81Linux%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">2、Linux服务管理命令</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3%E3%80%81%E4%B8%80%E6%AC%A1%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">3、一次性计划任务管理命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1%E3%80%81%E8%AE%BE%E7%BD%AE-%E6%AC%A1%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1-at%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">3-1、设置- -次性计划任务 -at命令</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3%E3%80%81%E4%B8%80%E6%AC%A1%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4-1\"><span class=\"toc-text\">3、一次性计划任务管理命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1%E3%80%81%E8%AE%BE%E7%BD%AE-%E6%AC%A1%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1-at%E5%91%BD%E4%BB%A4-1\"><span class=\"toc-text\">3-1、设置- -次性计划任务 -at命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-2%E3%80%81%E6%9F%A5%E8%AF%A2%E8%AE%BE%E7%BD%AE%E7%9A%84%E4%B8%80-%E6%AC%A1%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1-atq%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">3-2、查询设置的一-次性计划任务   atq命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-3%E3%80%81%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E4%BB%BB%E5%8A%A1%E7%BC%96%E5%8F%B7%E7%9A%84%E4%B8%80-%E6%AC%A1%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1\"><span class=\"toc-text\">3-3、删除指定任务编号的一-次性计划任务</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4%E3%80%81%E5%91%A8%E6%9C%9F%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">4、周期性计划任务管理命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-1%E3%80%81%E8%AE%BE%E7%BD%AE%E5%91%A8%E6%9C%9F%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1-crontab-%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">4-1、设置周期性计划任务  crontab 命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%91%A8%E6%9C%9F%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E9%85%8D%E7%BD%AE%E4%B8%AD%E7%9A%84%E7%AC%A6%E5%8F%B7\"><span class=\"toc-text\">周期性计划任务配置中的符号</span></a></li></ol></li></ol></li></ol>","author":{"name":"雨中冒险","slug":"blog-author","avatar":"/images/QQ.jpg","link":"/","description":"I'm in love with a shootin' star </br> But she moves so fast when she falls then I'll be waitin'","socials":{"github":"https://github.com/Kictoriz","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"[Linux笔记]软件包操作相关命令","uid":"3dc40b846d0b9e36e38487ef19f2f98c","slug":"LinuxRuanjian","date":"2023-04-23T07:11:46.000Z","updated":"2023-04-23T08:52:45.025Z","comments":true,"path":"api/articles/LinuxRuanjian.json","keywords":null,"cover":"./images/cover3.png","text":"软件包与进程管理1、RPM1-1、RPM简介 红帽软件包管理工具是Red Hat公司提出的软件包管理标准。 RPM会建立统一的数据库文件，详细记录软件信息并能够自动分析软件包之间的依赖关系。 软件包是一个相对独立的功能单元，但许多软件包通常还需要一定的底层支持，如函数库或网络协议...","link":"","photos":[],"count_time":{"symbolsCount":"4.5k","symbolsTime":"4 mins."},"categories":[],"tags":[{"name":"学习笔记","slug":"学习笔记","count":9,"path":"api/tags/学习笔记.json"},{"name":"学习","slug":"学习","count":9,"path":"api/tags/学习.json"},{"name":"笔记","slug":"笔记","count":9,"path":"api/tags/笔记.json"},{"name":"Linux","slug":"Linux","count":6,"path":"api/tags/Linux.json"},{"name":"软件包","slug":"软件包","count":1,"path":"api/tags/软件包.json"}],"author":{"name":"雨中冒险","slug":"blog-author","avatar":"/images/QQ.jpg","link":"/","description":"I'm in love with a shootin' star </br> But she moves so fast when she falls then I'll be waitin'","socials":{"github":"https://github.com/Kictoriz","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}